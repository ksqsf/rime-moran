schema:
  schema_id: moran_bj
  name: é­”ç„¶Â·ä¸¦æ“ŠG
  version: "20240115"
  author:
    - è‡ªç„¶ç¢¼ç™¼æ˜äººï¼šå‘¨å¿—è¾²
    - æ–¹æ¡ˆè£½ä½œï¼šksqsf
    - åŒæ‹¼å¹¶å‡»æ–¹æ¡ˆï¼šgaboolic
  description: |
    åŒæ‹¼å¹¶å‡»åŸç†ï¼šæŠŠå³æ‰‹ä¸Šå·¦æ‰‹æ²¡æœ‰çš„é”®ï¼Œæ˜ å°„åˆ°å·¦æ‰‹ï¼Œå·¦æ‰‹é”®æ˜ å°„åˆ°å³æ‰‹ï¼Œä½¿å¾—è®©å·¦æ‰‹èƒ½æ§åˆ¶23ä¸ªå£°æ¯ï¼Œå³æ‰‹èƒ½æ§åˆ¶24ä¸ªéŸµæ¯ã€‚
    å¹¶å‡»å­—æ¯è¡¨æ”¹ä¸ºå·¦æ‰‹çš„å­—æ¯åœ¨å‰ï¼Œè¿™æ ·å³å¯ä¿è¯å£°æ¯åœ¨å‰ï¼Œå¹¶å‡»ä¸ä¼šä¹±åºã€‚
    ä¾‹å¦‚çš®ï¼Œpåœ¨å³æ‰‹éœ€è¦æ˜ å°„åˆ°å·¦æ‰‹qfï¼Œæ‰€ä»¥å¹¶å‡»qfå°±å‡ºç°pï¼Œå¹¶å‡»qfiå°±å‡ºç°piã€‚måœ¨å³æ‰‹ï¼Œeåœ¨å·¦æ‰‹ï¼Œåˆ™æ­£å¥½ç›¸åï¼Œéœ€è¦å¹¶å‡»acå‡ºmï¼Œå¹¶å‡»jiå‡ºeï¼Œå¹¶å‡»acjiå‡ºmeã€‚

    å­—æ¯æ˜ å°„è§„åˆ™ï¼šå·¦å³å¯¹åº”é•œåƒåå†åŠ ä¸ªå­—æ¯
    - å³æ‰‹å­—æ¯æ˜ å°„åˆ°å·¦æ‰‹åé€šå¸¸é¢å¤–åŠ aï¼Œå¦‚jæ˜ å°„ä¸ºafã€‚ç‰¹ä¾‹ï¼špâ†’qf, mâ†’av, nâ†’acã€‚
    - å·¦æ‰‹å­—æ¯æ˜ å°„åˆ°å³æ‰‹åé€šå¸¸é¢å¤–åŠ læˆ–jï¼Œå¦‚dæ˜ å°„ä¸ºklï¼Œtæ˜ å°„ä¸ºulç­‰ã€‚
  dependencies:
    - moran_fixed
    - moran_sentence
    - moran_reverse
    - moran_english
    #- moran_japanese # æ—¥èªæ··è¼¸
    - stroke
    - tiger
    - cangjie5
    - zrlf

switches:
  - name: ascii_mode
    states: [ ä¸­æ–‡, è¥¿æ–‡ ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - name: simplification
    states: [ æ¼¢å­—, æ±‰å­— ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - options: [ gbk+emoji, utf8, big5+emoji ]
    states: [ GBK, UTF-8, BIG5 ]
  - name: inflexible
    states: [ å‹•è©, å›ºè© ] # ã€Œå›ºè©ã€è¡¨ç¤ºã€Œå›ºé ‚è©ã€
    # é»˜èªæƒ…æ³ä¸‹ï¼Œè¼¸å…¥ 4 ç¢¼æ™‚ï¼Œæœƒç¦æ­¢ç¢¼è¡¨è¼¸å‡ºï¼ˆã€Œå‹•è©ã€æ¨¡å¼ï¼‰ã€‚
    # é€™æ˜¯å› çˆ²ç¢¼è¡¨æœ€å¤§ç¢¼é•·çˆ² 4ï¼Œå¯èƒ½æœƒç”¢ç”Ÿè¼ƒä½é »çš„å¤šå­—è©ï¼Œè¦†è“‹éç”¨æˆ¶è‡ªé€ çš„å¸¸ç”¨è©èªã€‚
    # ç•¶å›ºè©æ¨¡å¼å•“å‹•å¾Œï¼Œè¼¸å…¥ 4 ç¢¼æ™‚æœƒå„ªå…ˆè¼¸å‡ºç¢¼è¡¨ä¸­çš„äºŒå­—è©ï¼Œé€™äº›è¼¸å‡ºå¸¶æœ‰ã€Œâš¡ï¸ã€æ¨™è¨˜ã€‚
  - name: emoji
    states: [ ğŸˆš, ğŸˆ¶ ]
  - name: unicode_comment
    states: [ Ué—œ, Ué–‹ ]
  - options: [ std_opencc,  std_tw, std_hk, std_dzing ]
    states: [ é€š, è‡º, æ¸¯, å¯ ]

engine:
  processors:
    - key_binder
    #- lua_processor@*moran_semicolon_processor
    - ascii_composer
    - chord_composer
    - recognizer
    - speller
    - punctuator
    - lua_processor@*moran_launcher     # è¼¸å…¥ omorj æˆ– ogrwh å¾Œå›è»Šæ‰“é–‹é­”ç„¶å®˜ç¶²
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator@reverse_universal
    - reverse_lookup_translator@reverse_tiger
    - reverse_lookup_translator@reverse_stroke
    - reverse_lookup_translator@reverse_cangjie5
    - reverse_lookup_translator@reverse_zrlf
    - table_translator@custom_phrase       # è‡ªå®šç¾©çŸ­èª
    - table_translator@english             # è‹±èªæ··è¼¸
    #- table_translator@japanese            # æ—¥èªæ··è¼¸
    - lua_translator@*moran_express_translator@with_reorder # ç¿»è­¯å™¨
    - lua_translator@*moran_shijian        # æ—¥æœŸorq ç¯€æ°£ojq æ˜ŸæœŸoxq æ™‚é–“osj
    - lua_translator@*moran_number         # æ•¸å­—è½‰å¤§å¯«
  filters:
    - lua_filter@*moran_reorder_filter
    - lua_filter@*moran_aux_hint
    - lua_filter@*moran_quick_code_hint
    - simplifier@emoji
    - charset_filter@gbk+emoji
    - charset_filter@big5+emoji
    - simplifier@std_hk
    - simplifier@std_tw
    - simplifier@std_dzing
    - simplifier
    - lua_filter@*moran_charset_comment_filter  # Unicode å€ä½æç¤º
    - lua_filter@*moran_unicode_display_filter  # Unicode ç·¨ç¢¼æç¤º
    - uniquifier

speller:
  alphabet: abcdefghijklmnopqrstuvwxyz
  delimiter: " '"
  algebra:
    __patch:
      - moran:/algebra/user_force_top?
      - moran:/algebra/user_sentence_top?
      - moran:/algebra/generate_code
      - moran:/algebra/user_sentence_bottom?
      - moran:/algebra/user_force_bottom?

chord_composer:
  # å­—æ¯è¡¨ï¼ŒåŒ…å«ç”¨å¹¶å‡»æŒ‰é”®
  # å‡»é”®ä¸€å¾‹ä»¥å­—æ¯è¡¨é¡ºåºæ’åˆ—
  alphabet: "aqzswxdecfrvgtbhynjumki,lo.;p',./"
  algebra:
    # - "xform/^,$/,/"
    # - "xform/^\.$/./"
    # å®šä¹‰å·¦æ‰‹11é”®       
    - xform/^at(?![å·¦å³])/yå·¦/
    - xform/^ar(?![å·¦å³])/uå·¦/
    - xform/^ae(?![å·¦å³])/iå·¦/
    - xform/^aw(?![å·¦å³])/oå·¦/
    - xform/^qf(?![å·¦å³])/på·¦/
    - xform/^as(?![å·¦å³])/lå·¦/
    - xform/^ad(?![å·¦å³])/kå·¦/
    - xform/^af(?![å·¦å³])/jå·¦/
    - xform/^ag(?![å·¦å³])/hå·¦/
    - xform/^ac(?![å·¦å³])/må·¦/
    - xform/^av(?![å·¦å³])/nå·¦/

    # å®šä¹‰å³æ‰‹15é”®
    - xform/jp(?![å·¦å³])$/qå³/
    - xform/jo(?![å·¦å³])$/wå³/
    - xform/ji(?![å·¦å³])$/eå³/
    - xform/ul(?![å·¦å³])$/rå³/
    - xform/yl(?![å·¦å³])$/tå³/
    - xform/l;(?![å·¦å³])$/så³/
    - xform/kl(?![å·¦å³])$/då³/
    - xform/jk(?![å·¦å³])$/få³/
    - xform/hl(?![å·¦å³])$/gå³/    
    - xform/mk(?![å·¦å³])$/zå³/
    - xform/nk(?![å·¦å³])$/xå³/
    - xform/ml(?![å·¦å³])$/cå³/
    - xform/nl(?![å·¦å³])$/vå³/
    - xform/ni(?![å·¦å³])$/bå³/
    - xform/;(?![å·¦å³])$/aå³/
  # å¹¶å‡»å®Œæˆåå¥—ç”¨å¼æ ·
  output_format:
    - "xform/^(.*)å·¦/$1/"
    - "xform/^(.*)å³$/$1/"
    - "xform/^(.*)å·¦(.*)å³$/$1$2/"
      
 # å¹¶å‡»è¿‡ç¨‹ä¸­å¥—ç”¨å¼æ ·  
  prompt_format:
    # åŠ æ–¹æ‹¬å·
    - "xform/^(.*)$/[$1]/" 

translator:    # æ•´å¥è¼¸å…¥æ¨¡å¼è¨­ç½®ï¼Œåœ¨ top_translator ä¸­è¢«èª¿ç”¨
  dictionary: moran.extended
  prism: moran
  initial_quality: 5
  max_homophones: 7
  spelling_hints: 3
  contextual_suggestions: true
  preedit_format:
    - xform/([a-z][a-z][a-z][a-z])o/$1Â°/

fixed:         # å›ºé ‚è¼¸å…¥æ¨¡å¼è¨­ç½®ï¼Œåœ¨ top_translator ä¸­è¢«èª¿ç”¨
  dictionary: moran_fixed
  initial_quality: 100
  enable_completion: false
  enable_sentence: false
  enable_user_dict: false
  enable_encoder: false
  encode_commit_history: true

custom_phrase: # è‡ªå®šç¾©çŸ­èª
  dictionary: ""
  user_dict: moran_custom_phrases
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 1000

english:
  dictionary: moran_english
  enable_completion: true
  enable_sentence: false
  enable_user_dict: true
  initial_quality: 1
  enable_encoder: false
  encode_commit_history: false
  comment_format:
    - xform/.*//

japanese:
  dictionary: moran_japanese
  enable_completion: false
  enable_sentence: true
  enable_user_dict: true
  initial_quality: 0
  enable_encoder: false
  encode_commit_history: false
  comment_format:
    - xform/.*//

simplifier:
  option_name: simplification
  opencc_config: moran_t2s.json

emoji:
  opencc_config: moran_emoji.json
  option_name: emoji
  tips: none

std_hk:
  opencc_config: t2hk.json
  option_name: std_hk
  #tips: all

std_tw:
  opencc_config: t2tw.json
  option_name: std_tw
  #tips: all

std_dzing:
  opencc_config: moran_dzing.json
  option_name: std_dzing
  tips: all

reverse_format:
  comment_format:
    - xform/(\w\w);(\w\w)/$1[$2]/
  preedit_format:
    - xform/^o(lf|bh|cj)//

reverse_tiger:
  tag: reverse_tiger
  dictionary: tiger
  enable_completion: true
  prefix: "`"
  tips: ã€”è™ç¢¼ã€•
  __include: reverse_format

reverse_universal:
  tag: reverse_universal
  dictionary: moran.chars
  tips: ã€”é€šé…ã€•
  __include: reverse_format

reverse_stroke:
  tag: reverse_stroke
  dictionary: stroke
  prefix: "obh"
  enable_completion: true
  tips: ã€”æ©«hè±sæ’‡pæºnæŠ˜zã€•
  __include: reverse_format

reverse_cangjie5:
  tag: reverse_cangjie5
  dictionary: cangjie5
  prefix: "ocj"
  enable_completion: true
  tips: ã€”å€‰é ¡äº”ä»£ã€•
  __include: reverse_format

reverse_zrlf:
  tag: reverse_zrlf
  dictionary: zrlf
  prefix: "olf"
  enable_completion: true
  tips: ã€”å…©åˆ†ã€•
  __include: reverse_format

reverse_lookup:
  extra_tags:
    - reverse_tiger
    - reverse_universal
    - reverse_stroke
    - reverse_cangjie5
    - reverse_zrlf

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default
  bindings:
    __patch:
      - moran:/key_bindings/moran_capital_for_last_syllable
      - moran:/key_bindings/moran_tab
      - moran:/key_bindings/moran_switches

recognizer:
  import_preset: default
  patterns:
    reverse_universal: "(^(`[a-z`]+))|(^([a-z]{2}(`[a-z`]?|[a-z`]`)))"
    reverse_tiger: "(^`$)|(^`[a-zA-Z]+$)"
    reverse_stroke: "^obh[A-Za-z]*$"
    reverse_cangjie5: "^ocj[A-Za-z]*$"
    reverse_zrlf: "^olf[A-Za-z]*$"
    punct: '^/([0-9]0?|[A-Za-z]+)$'

moran:
  # ç°¡å¿«ç¢¼æç¤ºç¬¦
  # ä¿®æ”¹çˆ² "" å¯å–æ¶ˆæç¤ºç¬¦
  # å»ºè­°åœ¨ç†Ÿæ‚‰ç°¡ç¢¼å¾Œå†å–æ¶ˆ
  quick_code_indicator: "âš¡ï¸"

  # è©è¼”åŠŸèƒ½
  # ç•¶è¼¸å…¥äºŒå­—æˆ–ä¸‰å­—è©æ™‚ï¼Œå…è¨±æœ«è¼¸å…¥ç¯©é¸è©èªã€‚
  # ä¾‹å¦‚è¼¸å…¥ lmjxz å¯ä»¥ç¯©é¸ã€Œé€£æ¥ã€ã€‚
  # ä½†æ˜¯èˆ‡å­—è¼”è¼¸å…¥æ–¹æ³•ä¸åŒï¼Œè©è¼”åœ¨ç”Ÿæ•ˆå¾Œ *ä¸èƒ½* åœ¨å¥æœ«ç¹¼çºŒè¼¸å…¥å½¢æˆæ•´
  # å¥â€”â€”é€™å€‹åŠŸèƒ½åƒ…ç”¨æ–¼ã€Œç¯©é¸ã€ã€‚å› æ­¤ï¼Œé€™å€‹åŠŸèƒ½åƒ…é©åˆç¿’æ…£æ–¼ä»¥è©èªçˆ²å–®
  # ä½è¼¸å…¥çš„ç”¨æˆ¶ã€‚
  enable_word_filter: false

  # ã€Œå‡ºç°¡è®“å…¨ã€ç›¸é—œè¨­ç½®
  # ç•¶ä¸€å€‹å­—å…·æœ‰ç°¡ç¢¼æ™‚ï¼Œæ‰“å…¶å…¨ç¢¼ï¼ˆä¸è«–æ˜¯ yyxx é‚„æ˜¯ yyxxoï¼‰éƒ½æœƒå°è‡´è©²
  # å­—è®“å‡ºé¦–ä½ï¼Œè€Œè¢«æ¨é²åˆ°å¾Œä½ã€‚
  ijrq:
    enable: true       # æ˜¯å¦å•“ç”¨å‡ºç°¡è®“å…¨ï¼Ÿ
    #defer: 5          # å»¶é²å¤šå°‘ä½ï¼Ÿè‹¥ä¸è¨­ç½®è¯¥é¡¹ï¼Œå‰‡é»˜èªå€¼æ˜¯æ¨é²åˆ°ç¬¬äºŒé 
    show_hint: true    # è‹¥è®“å…¨ï¼Œå‰‡æç¤ºç°¡ç¢¼æ‰“æ³•

  # å–®å­—è¼”åŠ©ç¢¼æç¤º
  # æ³¨ï¼šæœƒé¡¯ç¤ºå‡ºæ‰€æœ‰å¯èƒ½çš„è¼”åŠ©ç¢¼
  enable_aux_hint: false

  # ç°¡å¿«ç¢¼æç¤ºï¼ˆåŒ…æ‹¬å­—å’Œè©ï¼‰
  # ä¾‹å¦‚ è¼¸å…¥ yy te er è‹±ç‰¹çˆ¾ æœƒæç¤ºã€Œâš¡yteã€ï¼Œå³ä½¿ç”¨ yte å¯ä»¥æ‰“å‡ºé€™å€‹è©
  enable_quick_code_hint: false

# é»˜èªå•“ç”¨èªè¨€æ¨¡å‹
__include: moran:/octagram/enable_for_sentence
# è‹¥è¦ç¦ç”¨ï¼Œåœ¨ custom æ–‡ä»¶ä¸­å¯«å…¥ï¼š
# patch:
#   __include: moran:/octagram/disable
