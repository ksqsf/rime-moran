schema:
  schema_id: moran_aux
  name: é­”ç„¶Â·è¼”ç¯©
  version: "20240115"
  author:
    - è‡ªç„¶ç¢¼ç™¼æ˜äººï¼šå‘¨å¿—è¾²
    - æ–¹æ¡ˆè£½ä½œï¼šksqsf
  description: |
    åœ¨è¼¸å…¥å®Œç•¢é›™æ‹¼ç¢¼å¾Œï¼Œå¯ä»¥è¼¸å…¥è¼”åŠ©ç¢¼ç¯©é¸å€™é¸é …ï¼Œèˆ‡ã€Œé­”ç„¶ã€æ–¹æ¡ˆä¸åŒã€‚
  dependencies:
    - tiger
    - moran_english
    #- moran_japanese

switches:
  - name: ascii_mode
    states: [ ä¸­æ–‡, è¥¿æ–‡ ]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - name: simplification
    states: [ æ¼¢å­—, æ±‰å­— ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: extended_charset
    states: [ é€šç”¨, å¢å»£ ]
  - name: emoji
    states: [ ğŸˆš, ğŸˆ¶ ]
  - name: unicode_comment
    states: [ Ué—œ, Ué–‹ ]
  - name: dzing
    states: [ é€š, å¯ ]
  - options: [ std_opencc,  std_tw, std_hk, std_dzing ]
    states: [ é€š, è‡º, æ¸¯, å¯ ]

engine:
  processors:
    - key_binder
    - ascii_composer
    - recognizer
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - table_translator@custom_phrase       # è‡ªå®šç¾©çŸ­èª
    #- table_translator@english             # è‹±èªæ··è¼¸
    #- table_translator@japanese            # æ—¥èªæ··è¼¸
    - lua_translator@*moran_aux_translator
  filters:
    #- lua_filter@*moran_aux_hint           # è¼”åŠ©ç¢¼æç¤ºéœ€è¦å»æ‰æœ¬è¡Œé–‹é ­çš„ # ç¬¦è™Ÿ
    - lua_filter@*moran_charset_filter     # å­—é›†éæ¿¾éœ€è¦å»æ‰æœ¬è¡Œé–‹é ­çš„ # ç¬¦è™Ÿ
    - simplifier
    - simplifier@emoji
    - simplifier@std_tw
    - simplifier@std_hk
    - simplifier@std_dzing
    - uniquifier

speller:
  alphabet: abcdefghijklmnopqrstuvwxyz
  delimiter: " '"
  aux_algebra:
    __append:
      - derive/^(.*);(\w)(\w)$/$1/
  algebra:
    __patch:
      - moran:/user_force_top?
      - moran:/user_sentence_top?
      - :/speller/aux_algebra
      - moran:/user_sentence_bottom?
      - moran:/user_force_bottom?

translator:
  dictionary: moran.extended
  prism: moran_aux
  initial_quality: 0
  preedit_format:
    - xform/([a-z][a-z][a-z][a-z])o/$1Â°/

custom_phrase: # è‡ªå®šç¾©çŸ­èª
  dictionary: ""
  user_dict: moran_custom_phrases
  db_class: stabledb
  enable_completion: false
  enable_sentence: false
  initial_quality: 10

english:
  dictionary: moran.english
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

japanese:
  dictionary: moran.japanese
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

simplifier:
  option_name: simplification
  opencc_config: moran_t2s.json

emoji:
  opencc_config: moran_emoji.json
  option_name: emoji
  tips: all

std_hk:
  opencc_config: t2hk.json
  option_name: std_hk

std_tw:
  opencc_config: t2tw.json
  option_name: std_tw

std_dzing:
  opencc_config: moran_dzing.json
  option_name: std_dzing
  tips: all

reverse_lookup:
  dictionary: tiger
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: ã€”è™ç¢¼ã€•

punctuator:
  import_preset: symbols

key_binder:
  import_preset: default
  bindings:
    __patch:
      - moran:/key_bindings/moran_switches
      - moran:/key_bindings/moran_tab
      - moran:/key_bindings/moran_capital_for_last_syllable
      - moran:/key_bindings/moran_semicolon_for_2

recognizer:
  import_preset: default
  patterns:
    reverse_lookup: "^`[a-z]*'?$"
    punct: '^/([0-9]0?|[A-Za-z]+)$'

# é»˜èªå•“ç”¨èªè¨€æ¨¡å‹
__include: moran:/octagram/enable_for_sentence
